!function(o){const r={init(){r.autoRefreshLocationsList(),o("body").on("change",".multidots_locations_listing_refresh_action",function(e){e.preventDefault();var a=o(this).data("form-key");r.refreshLocationsList(e,a)}),o("body").on("click",".multidots_add_feedback_action",function(e){e.preventDefault(),r.addUpdateFeeback(e)}),o("body").on("click",".md-location-list-paginaion",function(e){e.preventDefault();var a=o(this).data("page"),t=o(this).data("form-key");r.refreshLocationsList(e,t,a)})},showGeneralError:()=>{o("#multidots-locations-render-search-result").html(md_wp_cli_exercise_ajax_object.general_error),r.afterAjaxAction()},beforeAjaxAction:(e=0)=>{o("body").css("cursor","progress"),o(".md-locations-render-result-".form).html(""),o(".multidots-locations-render-search-location").append('<div class="multidots-search-location-form-loading"></div>'),o(".multidots-submitted-error-mgs").html(""),o(".multidots-submitted-data-mgs").html(""),o(".md-wp-cli-exercise-field").removeClass("md-required-field"),o(".md-locations-render-result-".form).append('<div class="multidots-search-location-listing-loading"><div class="multidots-search-location-form-spinner"></div></div>')},afterAjaxAction:()=>{o("body").css("cursor",""),o(".multidots-search-location-form-loading").remove(),o(".multidots-search-location-form-spinner").remove()},addUpdateFeeback:e=>{e.preventDefault();let a=0;o(".md-wp-cli-exercise-field").removeClass("md-required-field"),""==o(".md-feedback-msg").val()&&(o(".multidots-submitted-error-mgs").html(md_wp_cli_exercise_ajax_object.required_error),o(".md-feedback-msg").addClass("md-required-field"),a=1),""==o(".md-feedback-email").val()&&(o(".multidots-submitted-error-mgs").html(md_wp_cli_exercise_ajax_object.required_error),o(".md-feedback-email").addClass("md-required-field"),a=1),0<a||o.ajax({type:"post",dataType:"json",url:md_wp_cli_exercise_ajax_object.ajax_url,data:{action:"multidots_add_feedback_data",first_name:o(".md-feedback-first-name").val(),last_name:o(".md-feedback-last-name").val(),phone:o(".md-feedback-phone").val(),email:o(".md-feedback-email").val(),feedback:o(".md-feedback-msg").val(),id:o(".md-feedback-id").val(),_nonce:md_wp_cli_exercise_ajax_object.ajax_nonce},beforeSend:()=>{r.beforeAjaxAction()},success(e){o(".multidots-submitted-data-mgs").html(e.content),r.afterAjaxAction(),""==o(".md-feedback-id").val()&&(o(".md-feedback-first-name").val(""),o(".md-feedback-last-name").val(""),o(".md-feedback-phone").val(""),o(".md-feedback-email").val(""),o(".md-feedback-msg").val(""))},error(){r.showGeneralError()}})},refreshLocationsList:(e,a,t=1)=>{e.preventDefault(),o.ajax({type:"post",dataType:"json",url:md_wp_cli_exercise_ajax_object.ajax_url,data:{action:"md_wp_cli_exercise_refresh_listing",regions:o(".multidots_location_search_region-"+a).val(),types:o(".multidots_location_search_type-"+a).val(),form:a,page:t,_nonce:md_wp_cli_exercise_ajax_object.ajax_nonce},beforeSend:()=>{r.beforeAjaxAction(a)},success(e){o(".md-locations-render-result-"+a).html(e.content),r.afterAjaxAction()},error(){r.showGeneralError()}})},autoRefreshLocationsList:()=>{o.ajax({type:"post",dataType:"json",url:md_wp_cli_exercise_ajax_object.ajax_url,data:{action:"md_wp_cli_exercise_refresh_listing",_nonce:md_wp_cli_exercise_ajax_object.ajax_nonce},beforeSend:()=>{r.beforeAjaxAction()},success(e){o(".md-locations-render-onload-result").html(e.content),r.afterAjaxAction()},error(){r.showGeneralError()}})}};o(function(){r.init(),o(".md-wp-cli-exercise-select2-field").length&&o(".md-wp-cli-exercise-select2-field").select2({placeholder:o(this).data("placeholder"),allowClear:!0})})}(jQuery);